{"version":3,"sources":["Test/Test.module.scss","Header/Header.module.scss","Preloader/Preloader.module.scss","App.module.scss","serviceWorker.js","Header/Header.jsx","Redux/testReducer.js","Test/Test.jsx","Test/dateApi.js","Preloader/Preloader.jsx","App.js","Redux/reduxStore.js","index.js"],"names":["module","exports","Boolean","window","location","hostname","match","Header","className","s","headerWrapper","header","headTitle","ADD_ARTICLE","ADD_COMMENTS","initialState","articleData","commentsData","dataLoad","likeChanged","testReducer","state","action","type","article","comments","map","t","id","likes","number","commentsDataReplies","c","replies","commentsDataRepliesWithGangedLikes","i","length","push","createDate","Date","toLocaleString","year","month","day","hour","minute","createMarkup","text","__html","MyComponent","dangerouslySetInnerHTML","Test","changeTheNumberOfLikes","changeTheNumberOfLikesReplies","newsWrapper","itemNews","itemHeader","itemHeaderTitle","title","itemDate","itemText","commentsWrapper","key","Math","random","comment","commentHeader","name","date","onClick","likesCount","disabled","commentText","r","Fragment","repliesHeader","repliesText","repliesForReplies","rr","repliesForRepliesHeader","Preloader","preloader","preloadText","preloadImg","src","alt","App","this","props","getNewArticleAndComments","appWrapper","contentWrapper","Component","connect","test","dispatch","a","Promise","resolve","setTimeout","newArticle","newComments","all","reducers","combineReducers","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","save","namespace","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.de63a2ed.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"newsWrapper\":\"Test_newsWrapper__3R4J5\",\"itemNews\":\"Test_itemNews__1cvIG\",\"itemHeader\":\"Test_itemHeader__1MV_U\",\"itemText\":\"Test_itemText__RgZHU\",\"commentsWrapper\":\"Test_commentsWrapper__gXmLN\",\"comments\":\"Test_comments__1NEX4\",\"comment\":\"Test_comment__DC_SW\",\"commentHeader\":\"Test_commentHeader__2UtyS\",\"commentText\":\"Test_commentText__2BFDQ\",\"replies\":\"Test_replies__1TVKm\",\"repliesHeader\":\"Test_repliesHeader__2NP0a\",\"repliesText\":\"Test_repliesText__11WZJ\",\"repliesForReplies\":\"Test_repliesForReplies__1BtIV\",\"repliesForRepliesHeader\":\"Test_repliesForRepliesHeader__351u-\",\"likes\":\"Test_likes__3O05p\",\"likesCount\":\"Test_likesCount__34ukM\",\"text\":\"Test_text__3V36U\",\"date\":\"Test_date__FaVmX\",\"name\":\"Test_name__1XJIZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerWrapper\":\"Header_headerWrapper__3_Od_\",\"header\":\"Header_header__3Z4m8\",\"headTitle\":\"Header_headTitle__3UGAO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__3P_Dy\",\"preloadText\":\"Preloader_preloadText__1bNGb\",\"preloadImg\":\"Preloader_preloadImg__2V6Xx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appWrapper\":\"App_appWrapper__xq7HW\",\"contentWrapper\":\"App_contentWrapper__I-SVj\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n\t// [::1] is the IPv6 localhost address.\r\n\twindow.location.hostname === '[::1]' ||\r\n\t// 127.0.0.1/8 is considered localhost for IPv4.\r\n\twindow.location.hostname.match(\r\n\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n\t)\r\n);\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\r\n\t\t\t\t\t\t'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then(registration => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing;\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error('Error during service worker registration:', error);\r\n\t\t});\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl)\r\n\t\t.then(response => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type');\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log(\r\n\t\t\t\t'No internet connection found. App is running in offline mode.'\r\n\t\t\t);\r\n\t\t});\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\tregistration.unregister();\r\n\t\t});\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport s from './Header.module.scss'\r\n\r\n\r\n\r\nexport const Header = () => {\r\n\r\n\treturn (\r\n\t\t<div className={s.headerWrapper}>\r\n\t\t\t<header className={s.header}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h2 className={s.headTitle}>Тестовое задание</h2>\r\n\t\t\t\t</div>\r\n\t\t\t</header>\r\n\t\t</div>\r\n\t)\r\n};\r\n\r\n","/*import {load} from \"redux-localstorage-simple\";\r\nlet data = load({namespace:'forTest'});\r\nlet initial = data.test; */\r\n\r\n\r\nconst ADD_ARTICLE = '/todoReducer___ADD_ARTICLE';\r\nconst ADD_COMMENTS = '/todoReducer___ADD_COMMENTS';\r\nconst SET_THE_NUMBER_OF_LIKES = '/todoReducer___SET_THE_NUMBER_OF_LIKES';\r\nconst SET_THE_NUMBER_OF_LIKES_REPLIES = '/todoReducer___SET_THE_NUMBER_OF_LIKES_REPLIES';\r\nconst SET_CHANGE_LIKES = '/todoReducer___SET_CHANGE_LIKES';\r\n\r\n\r\nconst initialState = {\r\n\tarticleData: {},\r\n\tcommentsData: [],\r\n\tdataLoad: false,\r\n\tlikeChanged: false,\r\n\r\n};\r\n\r\nconst testReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_ARTICLE: {\r\n\t\t\treturn {...state,articleData:{...action.article} }\r\n\t\t}\r\n\t\tcase ADD_COMMENTS: {\r\n\t\t\treturn {...state,commentsData:[...action.comments],dataLoad: true }\r\n\t\t}\r\n\t\tcase SET_CHANGE_LIKES: {\r\n\t\t\treturn {...state,likeChanged: false }\r\n\t\t}\r\n\t\tcase SET_THE_NUMBER_OF_LIKES: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,commentsData: state.commentsData.map(t => {\r\n\t\t\t\t\tif (t.id === action.id) {\r\n\t\t\t\t\t\tt.likes = action.number;\r\n\t\t\t\t\t\treturn t;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\treturn t;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_THE_NUMBER_OF_LIKES_REPLIES: {\r\n\t\t\tlet commentsDataReplies=state.commentsData.map(c=> c.replies && c.replies );\r\n\t\t\tlet commentsDataRepliesWithGangedLikes=[];\r\n\t\t\tfor(let i=0;i<commentsDataReplies.length-1; i++){\r\n\t\t\t\tcommentsDataReplies[i].map(t => {\r\n\t\t\t\t\tif (t.id === action.id) {\r\n\t\t\t\t\t\tt.likes = action.number;\r\n\t\t\t\t\t\tcommentsDataRepliesWithGangedLikes.push(t);\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tcommentsDataRepliesWithGangedLikes.push(t) ;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,...state.commentsData,replies:commentsDataRepliesWithGangedLikes,likeChanged: true\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nconst setArticleFromAPI = (article) => ({type: ADD_ARTICLE, article});\r\nconst setCommentsFromAPI = (comments) => ({type: ADD_COMMENTS, comments});\r\nconst setTheNumberOfLikes = (idAndLikes) => ({type: SET_THE_NUMBER_OF_LIKES,...idAndLikes });\r\nconst setTheNumberOfLikesReplies = (idAndLikes) => ({type: SET_THE_NUMBER_OF_LIKES_REPLIES,...idAndLikes });\r\nconst setChangeLikes = () => ({type: SET_CHANGE_LIKES});\r\n\r\n\r\nexport const getNewArticleAndComments = (articleData,commentsData) => {\r\n\treturn async (dispatch) => {\r\n\t\tlet newArticle = await new Promise(resolve => {\r\n\t\t\tsetTimeout(() => resolve(articleData), 1000);\r\n\t\t});\r\n\t\tlet newComments = await new Promise(resolve => {\r\n\t\t\tsetTimeout(() => resolve(commentsData), 1500);\r\n\t\t});\r\n\t\tawait Promise.all([newArticle,newComments]);\r\n\t\tawait dispatch(setArticleFromAPI(newArticle));\r\n\t\tdispatch(setCommentsFromAPI(newComments));\r\n\t}};\r\n\r\nexport const changeTheNumberOfLikes = (id,number) => {\r\n\treturn  (dispatch) => {\r\n\t\tdispatch(setTheNumberOfLikes({id,number}));\r\n\t}};\r\nexport const changeTheNumberOfLikesReplies = (id,number) => {\r\n\treturn  (dispatch) => {\r\n\t\tdispatch(setTheNumberOfLikesReplies({id,number}));\r\n\t\tdispatch(setChangeLikes());\r\n\r\n\t}};\r\n\r\n\r\n\r\n\r\n\r\n/*\r\nexport const articleAPI = {\r\n\tget: () =>\r\n\t\tnew Promise(resolve => {\r\n\t\t\tsetTimeout(() => resolve(articleData), 1000);\r\n\t\t})\r\n};\r\n\r\nexport const commentsAPI = {\r\n\tget: () =>\r\n\t\tnew Promise(resolve => {\r\n\t\t\tsetTimeout(() => resolve(commentsData), 1500);\r\n\t\t}),\r\n};\r\n*/\r\n\r\n\r\nexport default testReducer;\r\n\r\n","import React from 'react'\r\nimport s from './Test.module.scss'\r\n\r\nlet newDate = new Date();\r\nlet options = {\r\n\tyear: 'numeric',\r\n\tmonth: 'long',\r\n\tday: 'numeric',\r\n\thour: 'numeric',\r\n\tminute: 'numeric'\r\n};\r\nlet createDate = (newDate.toLocaleString(\"ru\", options));\r\n\r\nfunction createMarkup(text) {\r\n\treturn {__html: text};\r\n}\r\n\r\nfunction MyComponent(text) {\r\n\treturn <span className={s.text} dangerouslySetInnerHTML={createMarkup(text)}/>;\r\n}\r\n\r\n\r\nexport const Test = ({articleData, commentsData, changeTheNumberOfLikes, changeTheNumberOfLikesReplies}) => {\r\n\r\n\r\n\treturn (\r\n\t\t<div className={s.newsWrapper}>\r\n\t\t\t<div className={s.itemNews}>\r\n\t\t\t\t<div className={s.itemHeader}>\r\n\t\t\t\t\t<span className={s.itemHeaderTitle}>{articleData.title}</span><span className={s.itemDate}>{createDate}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={s.itemText}>\r\n\t\t\t\t\t{MyComponent(articleData.text)}\r\n\t\t\t\t</div>\r\n\t\t\t\t{commentsData.map(c =>\r\n\t\t\t\t\t<div className={s.commentsWrapper} key={Math.random()}>\r\n\t\t\t\t\t\t<div className={s.comments}>\r\n\t\t\t\t\t\t\t<div className={s.comment}>\r\n\t\t\t\t\t\t\t\t<div className={s.commentHeader}>\r\n\t\t\t\t\t\t\t\t\t<span className={s.name}>Name : <b>{MyComponent(c.name)}</b></span>\r\n\t\t\t\t\t\t\t\t\t<span className={s.date}>{createDate}</span>\r\n\t\t\t\t\t\t\t\t\t{c.likes >= 0 && <div>\r\n\t\t\t\t\t\t\t\t\t\t<button className={s.likes}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchangeTheNumberOfLikes(c.id, c.likes + 1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>Like + </button><span className={s.likesCount}><b>{c.likes}</b></span>\r\n\t\t\t\t\t\t\t\t\t\t<button className={s.likes} disabled={c.likes===0} onClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tchangeTheNumberOfLikes(c.id,c.likes - 1)\r\n\t\t\t\t\t\t\t\t\t\t}}> - DisLike</button>\r\n\t\t\t\t\t\t\t\t\t</div>}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className={s.commentText}>\r\n\t\t\t\t\t\t\t\t\t{MyComponent(c.commentText)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className={s.replies}>\r\n\t\t\t\t\t\t\t\t{c.replies ? c.replies.map(r =>\r\n\t\t\t\t\t\t\t\t\t<React.Fragment key={Math.random()}>\r\n\t\t\t\t\t\t\t\t\t\t<div className={s.repliesHeader}>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className={s.name}>Name : <b>{MyComponent(r.name)}</b></span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className={s.date}>{createDate}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t{r.likes >= 0 && <div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button className={s.likes}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchangeTheNumberOfLikesReplies(r.id, r.likes + 1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>Like + </button><span className={s.likesCount}><b>{r.likes}</b></span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button className={s.likes} disabled={r.likes===0} onClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchangeTheNumberOfLikesReplies(r.id,r.likes - 1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}> - DisLike</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className={s.repliesText}>\r\n\t\t\t\t\t\t\t\t\t\t\t{MyComponent(r.commentText)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className={s.repliesForReplies}>\r\n\t\t\t\t\t\t\t\t\t\t\t{r.replies ? r.replies.map(rr =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment key={Math.random()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={s.repliesForRepliesHeader}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className={s.name}>Name : <b>{MyComponent(rr.name)}</b></span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className={s.date}>{createDate}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={s.repliesText}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{MyComponent(rr.commentText)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>) : ''}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</React.Fragment>) : ''}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n};\r\n","export const articleData = {\r\n\tid: 1,\r\n\ttitle: 'Hello world',\r\n\tdate: 1568620630, // UNIX timestamp\r\n\ttext: `\r\n  <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s</p>\r\n  <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s</p>\r\n  <img src=\"https://via.placeholder.com/150\" alt=\"Image\" />\r\n  <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s</p>\r\n  `,\r\n};\r\nexport const commentsData = [\r\n\t{\r\n\t\tid: 1,\r\n\t\tcommentText: '<p>Hello World</p>',\r\n\t\tname: 'Bob',\r\n\t\tlikes: 5,\r\n\t\treplies: [\r\n\t\t\t{\r\n\t\t\t\tid: 10,\r\n\t\t\t\tcommentText: '<p>Can you write smth better?</p>',\r\n\t\t\t\tname: 'Emily',\r\n\t\t\t\tlikes: 10,\r\n\t\t\t\treplies: [],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 11,\r\n\t\t\t\tcommentText: '<p>Where does it come from?</p>',\r\n\t\t\t\tname: 'Emily',\r\n\t\t\t\tlikes: 0,\r\n\t\t\t\treplies: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 11,\r\n\t\t\t\t\t\tcommentText: '<p>Where can I get some?</p>',\r\n\t\t\t\t\t\tname: 'Carl',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\t{\r\n\t\tid: 2,\r\n\t\tcommentText: '<p>Hello <strong>World</strong>! How are you today?</p>',\r\n\t\tname: 'John Random',\r\n\t\tlikes: 3,\r\n\t\treplies: [{ id: 55, commentText: \"<p>I'm fine</p>\", name: 'Matt' }],\r\n\t},\r\n\t{\r\n\t\tid: 3,\r\n\t\tlikes: 1,\r\n\t\tcommentText: '<p>Lerem Ipsum.... <i>Hi</i></p>',\r\n\t\tname: 'Bob',\r\n\t},\r\n];","import React from 'react';\r\nimport s from './Preloader.module.scss';\r\n\r\n\r\n\r\nexport const Preloader = () => {\r\n\treturn (\r\n\t\t<div className={s.preloader}>\r\n\t\t\t<span className={s.preloadText}>Загружаем...ожидайте</span>\r\n\t\t\t<img className={s.preloadImg} src={'/images/settings.ico'} alt=\"\"/>\r\n\t\t</div>)\r\n\r\n};","import React, {Component} from 'react';\r\nimport s from './App.module.scss';\r\nimport {Header} from \"./Header/Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {changeTheNumberOfLikes, changeTheNumberOfLikesReplies, getNewArticleAndComments} from \"./Redux/testReducer\";\r\nimport {Test} from \"./Test/Test\";\r\nimport {articleData, commentsData} from \"./Test/dateApi\";\r\nimport {Preloader} from \"./Preloader/Preloader\";\r\n\r\n\r\n\r\n\r\nclass App extends Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.props.getNewArticleAndComments(articleData,commentsData);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {commentsData,articleData,dataLoad,changeTheNumberOfLikes,changeTheNumberOfLikesReplies}=this.props;\r\n\t\tif(!dataLoad){\r\n\t\t\treturn <Preloader />\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className={s.appWrapper}>\r\n\t\t\t\t<Header />\r\n\t\t\t\t<div className={s.contentWrapper}>\r\n\t\t\t\t\t<Test {...{articleData,commentsData,changeTheNumberOfLikes,changeTheNumberOfLikesReplies}} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport let mapStateToProps = (state) => ({\r\n\tarticleData: state.test.articleData,\r\n\tcommentsData: state.test.commentsData,\r\n\tdataLoad: state.test.dataLoad,\r\n\tlikeChanged: state.test.likeChanged,\r\n});\r\n\r\nexport default connect(mapStateToProps, {getNewArticleAndComments,changeTheNumberOfLikes,changeTheNumberOfLikesReplies})(App);\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport testReducer from \"./testReducer\";\r\nimport { save} from 'redux-localstorage-simple'\r\n\r\n\r\nlet reducers = combineReducers({\r\n\ttest: testReducer,\r\n\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__|| compose;\r\nconst store = createStore(reducers,compose(\r\n\tcomposeEnhancers(\r\n\t\tapplyMiddleware(thunkMiddleware,save({namespace:'forTest'}))\r\n\t)));\r\n\r\nexport default store","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {BrowserRouter, HashRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\nimport App from \"./App\";\r\nimport store from \"./Redux/reduxStore\";\r\n\r\nReactDOM.render(\r\n\t<HashRouter>\r\n\t\t<Provider store={store}>\r\n\t<App />\r\n\t\t</Provider>\r\n\t</HashRouter>\r\n\t, document.getElementById('root'));\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}